# import libraries
import os
import json
import requests
from dotenv import load_dotenv
from pathlib import Path
from azure.storage.blob import BlobServiceClient

# load environment variables from .env
env_path = Path(r"G:\My Drive\03 Personal Projects\Python\Azure Storage Account Key.env")
load_dotenv(dotenv_path=env_path)

# get connection string from environment
connection_string = os.getenv("AZURE_STORAGE_CONNECTION_STRING")
if connection_string is None:
    raise ValueError("Connection string not found. Check your .env file.")

# create BlobServiceClient
blob_service_client = BlobServiceClient.from_connection_string(connection_string)

# check all available containers
containers = blob_service_client.list_containers()
for container in containers:
        print(container["name"])

# call OpenWeatherMap API
api_key = "insert_api_key"
api_url = f"https://api.openweathermap.org/data/3.0/onecall?lat={lat}&lon={lon}&appid={api_key}"
params = (
      {
            lat = 51.5080
            long = -0.1281 
            
      })
